<!DOCTYPE html>
<html>
<body>
    <p id="op"></p>
    <a href="index.html">TO 1.html</a>
    <a href="index2.html">TO 2.html</a>
    <h3>op2</h3>
    <p id="op2"></p>
    <form>
        <input type="number" id="in" value="0">
        <button type="button" id="btn_submit" onclick="setId()" >Submit</button>
    </form>
    <a href="test.html">refresh</a><br>
        
<script>
    //把输入的数字存进cookie
    var participant_id = 0;
    function setId(){
//        participant_id = ("#in").val();
        participant_id = document.getElementById("in").value;
//        document.getElementById("op").textContent = participant_id;
        document.cookie = "participantId =" + participant_id + "; expires = Wed, 01 Jan 2020 00:00:00 GMT; path = /";
        
    }
    //set cookies
//    document.cookie = "username=John Doe";
    
//    document.cookie = "a =" + participant_id + "; expires = Wed, 01 Jan 2020 00:00:00 GMT; path = /";
//    document.cookie = "b = 200; expires = Wed, 01 Jan 2020 00:00:00 GMT; path = /";
//    document.cookie = "c = 300; expires = Wed, 01 Jan 2020 00:00:00 GMT; path = /";
    
    //show cookies
    document.getElementById("op").textContent = document.cookie;
    document.getElementById("op2").textContent = document.cookie;
//    document.getElementById("op2").textContent = "3333";
//    document.write(document.cookie.split(";"));
//    var cookieList = {};
//    cookieList = document.cookie.split(";");
//    document.write(cookieList[0]);
//    
//    var user = prompt("please enter your name:", "");
    
    function getCookieByName(cname){
      
//        var name;
//        name = cname;
        var ac = {};
        var cookieList = {};
        ac = document.cookie.split(";");
        //testing
        document.getElementById("op2").textContent = ac[0];
        document.getElementById("op2").textContent = "sdf";
//        document.write("sss");
//        var cookieList = {};
        
        //把cookie变成name-value键值对
        var c = {};
        var i;
        
        for(i=0; i<ac.length; i++) {
//            document.write("<br>" + "ac[i] = " + ac[i]);
            c = ac[i].split("=");
            //testing
//            document.getElementById("op2").textContent = c[0];
            if(c.length > 1){
                cookieList[c[0].trim()] = unescape(c[1]);
//                document.write(c[0].trim() + " : " + c[1] + "<br>");
            }
        }
//        document.wirte(cookieList[cname]);
        return cookieList[cname];
        
    }    
    
    document.write(getCookieByName("participantId"));

</script>
</body>

</html>



